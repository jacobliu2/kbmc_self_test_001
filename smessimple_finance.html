<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤‘ì†Œê¸°ì—… ìê¸ˆí™œìš© ìê°€ì§„ë‹¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1e3a5f;
            --primary-dark: #152a45;
            --primary-light: #2d5a8a;
            --accent: #2874a6;
            --profitability: #d35400;
            --stability: #27ae60;
            --activity: #2980b9;
            --growth: #8e44ad;
            --bg-light: #f8f9fc;
            --bg-white: #ffffff;
            --text-dark: #1a1a2e;
            --text-gray: #64748b;
            --border: #e2e8f0;
            --shadow: rgba(30, 58, 95, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #152a45 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: var(--text-dark);
            line-height: 1.7;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            background: var(--bg-white);
            padding: 50px 40px;
            border-radius: 24px 24px 0 0;
            box-shadow: 0 20px 60px var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .header h1 {
            font-family: 'Montserrat', 'Noto Sans KR', sans-serif;
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 16px;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1.05rem;
            color: var(--text-gray);
            line-height: 1.8;
            margin-bottom: 8px;
        }

        .resource-legend {
            display: flex;
            gap: 24px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .legend-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        .legend-dot.profitability { background: var(--profitability); }
        .legend-dot.stability { background: var(--stability); }
        .legend-dot.activity { background: var(--activity); }
        .legend-dot.growth { background: var(--growth); }

        .main-content {
            background: var(--bg-white);
            padding: 0;
            border-radius: 0 0 24px 24px;
            box-shadow: 0 20px 60px var(--shadow);
        }

        .input-section {
            padding: 50px 40px;
            display: block;
        }

        .input-section.hidden {
            display: none;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary);
        }

        .input-group {
            background: var(--bg-light);
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 25px;
        }

        .input-group h3 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .input-field {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-field label {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .input-field input {
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Noto Sans KR', sans-serif;
            transition: all 0.3s ease;
        }

        .input-field input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 58, 95, 0.1);
        }

        .input-field .unit {
            font-size: 0.85rem;
            color: var(--text-gray);
            margin-top: -5px;
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #856404;
        }

        .btn-analyze {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
            margin-top: 30px;
        }

        .btn-analyze:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--shadow);
        }

        .btn-analyze:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            display: none;
            padding: 50px 40px;
            animation: fadeInUp 0.5s ease-out;
        }

        .result-section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .result-header h2 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .result-header p {
            font-size: 1.1rem;
            color: var(--text-gray);
        }

        .result-chart {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 16px var(--shadow);
            margin-bottom: 40px;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 40px;
            text-align: center;
        }

        .chart-bars {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            gap: 30px;
            height: 300px;
            padding: 0 20px;
        }

        .chart-bar {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            height: 100%;
        }

        .chart-track {
            width: 100%;
            max-width: 100px;
            height: 250px;
            background: var(--bg-light);
            border-radius: 10px 10px 0 0;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .chart-fill {
            width: 100%;
            border-radius: 10px 10px 0 0;
            transition: height 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            height: 0%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-fill.profitability { background: linear-gradient(180deg, var(--profitability), #a04000); }
        .chart-fill.stability { background: linear-gradient(180deg, var(--stability), #1e8449); }
        .chart-fill.activity { background: linear-gradient(180deg, var(--activity), #1f618d); }
        .chart-fill.growth { background: linear-gradient(180deg, var(--growth), #6c3483); }

        .chart-score {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .chart-label {
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--text-dark);
            text-align: center;
        }

        .detail-analysis {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .analysis-card {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 16px var(--shadow);
            border-top: 4px solid;
        }

        .analysis-card.profitability { border-top-color: var(--profitability); }
        .analysis-card.stability { border-top-color: var(--stability); }
        .analysis-card.activity { border-top-color: var(--activity); }
        .analysis-card.growth { border-top-color: var(--growth); }

        .analysis-card h3 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .analysis-card.profitability h3 { color: var(--profitability); }
        .analysis-card.stability h3 { color: var(--stability); }
        .analysis-card.activity h3 { color: var(--activity); }
        .analysis-card.growth h3 { color: var(--growth); }

        .metric-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .metric-item:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-size: 0.95rem;
            color: var(--text-gray);
        }

        .metric-value {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text-dark);
        }

        .consultant-comment {
            background: linear-gradient(135deg, rgba(30, 58, 95, 0.03), rgba(40, 116, 166, 0.05));
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 30px;
            border-left: 4px solid var(--primary);
        }

        .consultant-comment h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .consultant-comment h3::before {
            content: 'ğŸ’¼';
            font-size: 1.6rem;
        }

        .consultant-comment-text {
            font-size: 1.05rem;
            line-height: 1.9;
            color: var(--text-dark);
            text-align: justify;
            word-break: keep-all;
            white-space: pre-line;
        }

        .consultant-comment-text strong {
            color: var(--primary);
            font-weight: 700;
            display: block;
            margin-top: 10px;
        }

        .consultant-comment-text strong:first-child {
            margin-top: 0;
        }

        .recommendation-section {
            background: linear-gradient(135deg, #f8f9fc, #e8f4f8);
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .recommendation-section h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .recommendation-section h3::before {
            content: 'ğŸ’¡';
            font-size: 1.6rem;
        }

        .recommendation-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .recommendation-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .recommendation-item h4 {
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .recommendation-item p {
            font-size: 0.95rem;
            color: var(--text-gray);
            line-height: 1.6;
        }

        .contact-info {
            background: var(--primary);
            color: white;
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 30px;
        }

        .contact-info p {
            font-size: 1.05rem;
            line-height: 1.7;
        }

        .btn-restart {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
            margin-bottom: 20px;
        }

        .btn-restart:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--shadow);
        }

        .copyright {
            text-align: center;
            color: var(--text-gray);
            font-size: 0.9rem;
            padding: 20px;
        }

        @media (max-width: 768px) {
            body {
                padding: 20px 12px;
            }

            .header, .input-section, .result-section {
                padding: 30px 24px;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .input-row {
                grid-template-columns: 1fr;
            }

            .detail-analysis {
                grid-template-columns: 1fr;
            }

            .chart-bars {
                height: 250px;
                gap: 15px;
            }

            .chart-track {
                max-width: 60px;
                height: 200px;
            }

            .chart-label {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ì¤‘ì†Œê¸°ì—… ìê¸ˆí™œìš© ìê°€ì§„ë‹¨</h1>
            <p>ê·€ì‚¬ì˜ ì¬ë¬´ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì‹œë©´, ìˆ˜ìµì„±Â·ì•ˆì •ì„±Â·í™œë™ì„±Â·ì„±ì¥ì„±ì„ ì¢…í•© ë¶„ì„í•˜ì—¬</p>
            <p>ìµœì ì˜ ìê¸ˆ í™œìš© ë°©ì•ˆê³¼ ë§ì¶¤í˜• ê¸ˆìœµ ì§€ì› í”„ë¡œê·¸ë¨ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.</p>
            <div class="resource-legend">
                <div class="legend-item">
                    <div class="legend-dot profitability"></div>
                    <span>ìˆ˜ìµì„±</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot stability"></div>
                    <span>ì•ˆì •ì„±</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot activity"></div>
                    <span>í™œë™ì„±</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot growth"></div>
                    <span>ì„±ì¥ì„±</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- Input Section -->
            <div class="input-section">
                <h2 class="section-title">ì¬ë¬´ë°ì´í„° ì…ë ¥</h2>
                
                <div class="note">
                    ğŸ’¡ <strong>ì…ë ¥ ê°€ì´ë“œ:</strong> ìµœê·¼ ì‚¬ì—…ì—°ë„ ì¬ë¬´ì œí‘œ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”. ë‹¨ìœ„ëŠ” ë°±ë§Œì›ì…ë‹ˆë‹¤.
                </div>

                <!-- ì†ìµê³„ì‚°ì„œ -->
                <div class="input-group">
                    <h3>ğŸ’° ì†ìµê³„ì‚°ì„œ (ë‹¨ìœ„: ë°±ë§Œì›)</h3>
                    <div class="input-row">
                        <div class="input-field">
                            <label for="currentSales">ë‹¹ê¸° ë§¤ì¶œì•¡</label>
                            <input type="number" id="currentSales" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                        <div class="input-field">
                            <label for="previousSales">ì „ê¸° ë§¤ì¶œì•¡</label>
                            <input type="number" id="previousSales" placeholder="0">
                            <span class="unit">ë°±ë§Œì› (ì„±ì¥ì„± ë¶„ì„ìš©)</span>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-field">
                            <label for="operatingProfit">ì˜ì—…ì´ìµ</label>
                            <input type="number" id="operatingProfit" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                        <div class="input-field">
                            <label for="netIncome">ë‹¹ê¸°ìˆœì´ìµ</label>
                            <input type="number" id="netIncome" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                    </div>
                </div>

                <!-- ì¬ë¬´ìƒíƒœí‘œ -->
                <div class="input-group">
                    <h3>ğŸ“Š ì¬ë¬´ìƒíƒœí‘œ (ë‹¨ìœ„: ë°±ë§Œì›)</h3>
                    <div class="input-row">
                        <div class="input-field">
                            <label for="totalAssets">ì´ìì‚°</label>
                            <input type="number" id="totalAssets" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                        <div class="input-field">
                            <label for="currentAssets">ìœ ë™ìì‚°</label>
                            <input type="number" id="currentAssets" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-field">
                            <label for="totalLiabilities">ì´ë¶€ì±„</label>
                            <input type="number" id="totalLiabilities" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                        <div class="input-field">
                            <label for="currentLiabilities">ìœ ë™ë¶€ì±„</label>
                            <input type="number" id="currentLiabilities" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-field">
                            <label for="totalEquity">ìê¸°ìë³¸</label>
                            <input type="number" id="totalEquity" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                        <div class="input-field">
                            <label for="inventory">ì¬ê³ ìì‚°</label>
                            <input type="number" id="inventory" placeholder="0">
                            <span class="unit">ë°±ë§Œì›</span>
                        </div>
                    </div>
                </div>

                <button class="btn-analyze" onclick="analyzeFinancialData()">
                    ì¬ë¬´ ë¶„ì„ ì‹œì‘í•˜ê¸° ğŸš€
                </button>
            </div>

            <!-- Result Section -->
            <div class="result-section">
                <div class="result-header">
                    <h2>ì¬ë¬´ ì§„ë‹¨ ê²°ê³¼</h2>
                    <p>ê·€ì‚¬ì˜ ì¬ë¬´ë°ì´í„°ë¥¼ ì¢…í•© ë¶„ì„í•œ ê²°ê³¼ì…ë‹ˆë‹¤.</p>
                </div>

                <div class="result-chart">
                    <h3 class="chart-title">ì˜ì—­ë³„ ì¬ë¬´ê±´ì „ì„± ì ìˆ˜</h3>
                    <div class="chart-bars">
                        <div class="chart-bar">
                            <div class="chart-track">
                                <div class="chart-fill profitability" id="profitabilityBar">
                                    <span class="chart-score" id="profitabilityScore">0</span>
                                </div>
                            </div>
                            <div class="chart-label">ìˆ˜ìµì„±</div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-track">
                                <div class="chart-fill stability" id="stabilityBar">
                                    <span class="chart-score" id="stabilityScore">0</span>
                                </div>
                            </div>
                            <div class="chart-label">ì•ˆì •ì„±</div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-track">
                                <div class="chart-fill activity" id="activityBar">
                                    <span class="chart-score" id="activityScore">0</span>
                                </div>
                            </div>
                            <div class="chart-label">í™œë™ì„±</div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-track">
                                <div class="chart-fill growth" id="growthBar">
                                    <span class="chart-score" id="growthScore">0</span>
                                </div>
                            </div>
                            <div class="chart-label">ì„±ì¥ì„±</div>
                        </div>
                    </div>
                </div>

                <div class="detail-analysis">
                    <div class="analysis-card profitability">
                        <h3>ğŸ’° ìˆ˜ìµì„± ë¶„ì„</h3>
                        <div id="profitabilityDetails"></div>
                    </div>
                    <div class="analysis-card stability">
                        <h3>ğŸ›¡ï¸ ì•ˆì •ì„± ë¶„ì„</h3>
                        <div id="stabilityDetails"></div>
                    </div>
                    <div class="analysis-card activity">
                        <h3>âš¡ í™œë™ì„± ë¶„ì„</h3>
                        <div id="activityDetails"></div>
                    </div>
                    <div class="analysis-card growth">
                        <h3>ğŸ“ˆ ì„±ì¥ì„± ë¶„ì„</h3>
                        <div id="growthDetails"></div>
                    </div>
                </div>

                <div class="consultant-comment">
                    <h3>ì „ë¬¸ê°€ ì¢…í•© ì˜ê²¬</h3>
                    <div class="consultant-comment-text" id="consultantComment"></div>
                </div>

                <div class="recommendation-section">
                    <h3>ë§ì¶¤í˜• ìê¸ˆ ì§€ì› í”„ë¡œê·¸ë¨ ì¶”ì²œ</h3>
                    <div class="recommendation-list" id="recommendationList"></div>
                </div>

                <button class="btn-restart" onclick="restart()">ìƒˆë¡œìš´ ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>

                <div class="contact-info">
                    <p>ë³¸ ì§„ë‹¨ì€ ì¤‘ì†Œê¸°ì—… ë° ì†Œìƒê³µì¸ì„ ìœ„í•´ ë³µì¡í•œ ê²½ì˜ ë¶„ì„ì„ ì†ì‰½ê²Œ ìˆ˜í–‰í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ì œì‘ëœ ê°„ì´ ìê°€ì§„ë‹¨ì…ë‹ˆë‹¤.</p>
                    <p>ë” ìƒì„¸í•œ ë¶„ì„ì´ë‚˜ ì „ë¬¸ê°€ ìƒë‹´ì´ í•„ìš”í•˜ì‹œë©´ í•˜ë‹¨ì˜ <strong>ìƒë‹´ë¬¸ì˜</strong>ë¥¼ ì´ìš©í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
                </div>

                <div class="copyright">
                    Â© ì½”ë¦¬ì•„ê²½ì˜ìë¬¸. All rights reserved.
                </div>
            </div>
        </div>
    </div>

    <script>
        function analyzeFinancialData() {
            // ì…ë ¥ê°’ ìˆ˜ì§‘
            const currentSales = parseFloat(document.getElementById('currentSales').value) || 0;
            const previousSales = parseFloat(document.getElementById('previousSales').value) || 0;
            const operatingProfit = parseFloat(document.getElementById('operatingProfit').value) || 0;
            const netIncome = parseFloat(document.getElementById('netIncome').value) || 0;
            const totalAssets = parseFloat(document.getElementById('totalAssets').value) || 0;
            const currentAssets = parseFloat(document.getElementById('currentAssets').value) || 0;
            const totalLiabilities = parseFloat(document.getElementById('totalLiabilities').value) || 0;
            const currentLiabilities = parseFloat(document.getElementById('currentLiabilities').value) || 0;
            const totalEquity = parseFloat(document.getElementById('totalEquity').value) || 0;
            const inventory = parseFloat(document.getElementById('inventory').value) || 0;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (currentSales === 0 || totalAssets === 0) {
                alert('ë§¤ì¶œì•¡ê³¼ ì´ìì‚°ì€ í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.');
                return;
            }

            // ì¬ë¬´ë¹„ìœ¨ ê³„ì‚°
            const ratios = calculateRatios(
                currentSales, previousSales, operatingProfit, netIncome,
                totalAssets, currentAssets, totalLiabilities, currentLiabilities,
                totalEquity, inventory
            );

            // ì ìˆ˜ ê³„ì‚°
            const scores = calculateScores(ratios);

            // ê²°ê³¼ í‘œì‹œ
            displayResults(ratios, scores);

            // í™”ë©´ ì „í™˜
            document.querySelector('.input-section').classList.add('hidden');
            document.querySelector('.result-section').classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function calculateRatios(currentSales, previousSales, operatingProfit, netIncome,
                                totalAssets, currentAssets, totalLiabilities, currentLiabilities,
                                totalEquity, inventory) {
            return {
                // ìˆ˜ìµì„±
                operatingProfitMargin: currentSales > 0 ? (operatingProfit / currentSales * 100) : 0,
                netProfitMargin: currentSales > 0 ? (netIncome / currentSales * 100) : 0,
                roa: totalAssets > 0 ? (netIncome / totalAssets * 100) : 0,
                roe: totalEquity > 0 ? (netIncome / totalEquity * 100) : 0,
                
                // ì•ˆì •ì„±
                debtRatio: totalEquity > 0 ? (totalLiabilities / totalEquity * 100) : 0,
                currentRatio: currentLiabilities > 0 ? (currentAssets / currentLiabilities * 100) : 0,
                equityRatio: totalAssets > 0 ? (totalEquity / totalAssets * 100) : 0,
                
                // í™œë™ì„±
                assetTurnover: totalAssets > 0 ? (currentSales / totalAssets) : 0,
                inventoryTurnover: inventory > 0 ? (currentSales / inventory) : 0,
                
                // ì„±ì¥ì„±
                salesGrowth: previousSales > 0 ? ((currentSales - previousSales) / previousSales * 100) : 0
            };
        }

        function calculateScores(ratios) {
            let profitabilityScore = 0;
            let stabilityScore = 0;
            let activityScore = 0;
            let growthScore = 0;

            // ìˆ˜ìµì„± ì ìˆ˜ (0-100)
            if (ratios.operatingProfitMargin >= 15) profitabilityScore += 25;
            else if (ratios.operatingProfitMargin >= 10) profitabilityScore += 20;
            else if (ratios.operatingProfitMargin >= 5) profitabilityScore += 15;
            else if (ratios.operatingProfitMargin >= 0) profitabilityScore += 10;

            if (ratios.netProfitMargin >= 10) profitabilityScore += 25;
            else if (ratios.netProfitMargin >= 5) profitabilityScore += 20;
            else if (ratios.netProfitMargin >= 3) profitabilityScore += 15;
            else if (ratios.netProfitMargin >= 0) profitabilityScore += 10;

            if (ratios.roa >= 10) profitabilityScore += 25;
            else if (ratios.roa >= 5) profitabilityScore += 20;
            else if (ratios.roa >= 3) profitabilityScore += 15;
            else if (ratios.roa >= 0) profitabilityScore += 10;

            if (ratios.roe >= 15) profitabilityScore += 25;
            else if (ratios.roe >= 10) profitabilityScore += 20;
            else if (ratios.roe >= 5) profitabilityScore += 15;
            else if (ratios.roe >= 0) profitabilityScore += 10;

            // ì•ˆì •ì„± ì ìˆ˜ (0-100)
            if (ratios.debtRatio <= 100) stabilityScore += 35;
            else if (ratios.debtRatio <= 150) stabilityScore += 25;
            else if (ratios.debtRatio <= 200) stabilityScore += 15;
            else stabilityScore += 5;

            if (ratios.currentRatio >= 200) stabilityScore += 35;
            else if (ratios.currentRatio >= 150) stabilityScore += 25;
            else if (ratios.currentRatio >= 100) stabilityScore += 15;
            else stabilityScore += 5;

            if (ratios.equityRatio >= 50) stabilityScore += 30;
            else if (ratios.equityRatio >= 40) stabilityScore += 20;
            else if (ratios.equityRatio >= 30) stabilityScore += 10;
            else stabilityScore += 5;

            // í™œë™ì„± ì ìˆ˜ (0-100)
            if (ratios.assetTurnover >= 2.0) activityScore += 50;
            else if (ratios.assetTurnover >= 1.5) activityScore += 40;
            else if (ratios.assetTurnover >= 1.0) activityScore += 30;
            else if (ratios.assetTurnover >= 0.5) activityScore += 20;
            else activityScore += 10;

            if (ratios.inventoryTurnover >= 12) activityScore += 50;
            else if (ratios.inventoryTurnover >= 8) activityScore += 40;
            else if (ratios.inventoryTurnover >= 5) activityScore += 30;
            else if (ratios.inventoryTurnover >= 3) activityScore += 20;
            else activityScore += 10;

            // ì„±ì¥ì„± ì ìˆ˜ (0-100)
            if (ratios.salesGrowth >= 20) growthScore = 100;
            else if (ratios.salesGrowth >= 15) growthScore = 85;
            else if (ratios.salesGrowth >= 10) growthScore = 70;
            else if (ratios.salesGrowth >= 5) growthScore = 55;
            else if (ratios.salesGrowth >= 0) growthScore = 40;
            else if (ratios.salesGrowth >= -5) growthScore = 25;
            else growthScore = 10;

            return {
                profitability: Math.round(profitabilityScore),
                stability: Math.round(stabilityScore),
                activity: Math.round(activityScore),
                growth: Math.round(growthScore)
            };
        }

        function displayResults(ratios, scores) {
            // ì°¨íŠ¸ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                document.getElementById('profitabilityBar').style.height = scores.profitability + '%';
                document.getElementById('profitabilityScore').textContent = scores.profitability;
                
                document.getElementById('stabilityBar').style.height = scores.stability + '%';
                document.getElementById('stabilityScore').textContent = scores.stability;
                
                document.getElementById('activityBar').style.height = scores.activity + '%';
                document.getElementById('activityScore').textContent = scores.activity;
                
                document.getElementById('growthBar').style.height = scores.growth + '%';
                document.getElementById('growthScore').textContent = scores.growth;
            }, 100);

            // ìƒì„¸ ë¶„ì„
            displayDetailAnalysis(ratios);

            // ì»¨ì„¤í„´íŠ¸ ì½”ë©˜íŠ¸
            displayConsultantComment(scores, ratios);

            // ì¶”ì²œ í”„ë¡œê·¸ë¨
            displayRecommendations(scores, ratios);
        }

        function displayDetailAnalysis(ratios) {
            // ìˆ˜ìµì„±
            document.getElementById('profitabilityDetails').innerHTML = `
                <div class="metric-item">
                    <span class="metric-label">ì˜ì—…ì´ìµë¥ </span>
                    <span class="metric-value">${ratios.operatingProfitMargin.toFixed(2)}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ìˆœì´ìµë¥ </span>
                    <span class="metric-value">${ratios.netProfitMargin.toFixed(2)}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ì´ìì‚°ì´ìµë¥ (ROA)</span>
                    <span class="metric-value">${ratios.roa.toFixed(2)}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ìê¸°ìë³¸ì´ìµë¥ (ROE)</span>
                    <span class="metric-value">${ratios.roe.toFixed(2)}%</span>
                </div>
            `;

            // ì•ˆì •ì„±
            document.getElementById('stabilityDetails').innerHTML = `
                <div class="metric-item">
                    <span class="metric-label">ë¶€ì±„ë¹„ìœ¨</span>
                    <span class="metric-value">${ratios.debtRatio.toFixed(2)}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ìœ ë™ë¹„ìœ¨</span>
                    <span class="metric-value">${ratios.currentRatio.toFixed(2)}%</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ìê¸°ìë³¸ë¹„ìœ¨</span>
                    <span class="metric-value">${ratios.equityRatio.toFixed(2)}%</span>
                </div>
            `;

            // í™œë™ì„±
            document.getElementById('activityDetails').innerHTML = `
                <div class="metric-item">
                    <span class="metric-label">ì´ìì‚°íšŒì „ìœ¨</span>
                    <span class="metric-value">${ratios.assetTurnover.toFixed(2)}íšŒ</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">ì¬ê³ ìì‚°íšŒì „ìœ¨</span>
                    <span class="metric-value">${ratios.inventoryTurnover.toFixed(2)}íšŒ</span>
                </div>
            `;

            // ì„±ì¥ì„±
            document.getElementById('growthDetails').innerHTML = `
                <div class="metric-item">
                    <span class="metric-label">ë§¤ì¶œì•¡ ì¦ê°€ìœ¨</span>
                    <span class="metric-value">${ratios.salesGrowth.toFixed(2)}%</span>
                </div>
            `;
        }

        function displayConsultantComment(scores, ratios) {
            const avgScore = (scores.profitability + scores.stability + scores.activity + scores.growth) / 4;
            let comment = '';

            // ì¢…í•© í‰ê°€
            if (avgScore >= 75) {
                comment += `ê·€ì‚¬ëŠ” ì „ë°˜ì ìœ¼ë¡œ ë§¤ìš° ìš°ìˆ˜í•œ ì¬ë¬´ ê±´ì „ì„±ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ìˆ˜ìµì„±, ì•ˆì •ì„±, í™œë™ì„±, ì„±ì¥ì„± ëª¨ë“  ì˜ì—­ì—ì„œ ì–‘í˜¸í•œ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ê³  ìˆì–´, ì¶”ê°€ì ì¸ ì‚¬ì—… í™•ì¥ì´ë‚˜ íˆ¬ìë¥¼ ì ê·¹ ê²€í† í•˜ì‹¤ ìˆ˜ ìˆëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.\n\n`;
            } else if (avgScore >= 50) {
                comment += `ê·€ì‚¬ëŠ” ì¤‘ê°„ ìˆ˜ì¤€ì˜ ì¬ë¬´ ê±´ì „ì„±ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ì¼ë¶€ ê°•ì ì„ ë³´ì´ëŠ” ì˜ì—­ì´ ìˆìœ¼ë‚˜, ì·¨ì•½í•œ ë¶€ë¶„ì— ëŒ€í•œ ì§‘ì¤‘ì ì¸ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n`;
            } else {
                comment += `ê·€ì‚¬ëŠ” ì¬ë¬´ ê±´ì „ì„± ì „ë°˜ì— ê±¸ì³ ì²´ê³„ì ì¸ ê°œì„ ì´ í•„ìš”í•œ ìƒí™©ì…ë‹ˆë‹¤. ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ì—¬ ë‹¨ê³„ì ìœ¼ë¡œ ì¬ë¬´êµ¬ì¡°ë¥¼ ê°œì„ í•´ ë‚˜ê°€ì‹¤ ê²ƒì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.\n\n`;
            }

            // ìˆ˜ìµì„± ë¶„ì„
            if (scores.profitability < 50) {
                comment += `<strong>ìˆ˜ìµì„± ê°œì„  í•„ìš”</strong><br>ì˜ì—…ì´ìµë¥  ${ratios.operatingProfitMargin.toFixed(1)}%, ìˆœì´ìµë¥  ${ratios.netProfitMargin.toFixed(1)}%ë¡œ ìˆ˜ìµì„±ì´ ë‚®ì€ í¸ì…ë‹ˆë‹¤. ì›ê°€ ì ˆê°, ê³ ìˆ˜ìµ ì œí’ˆ ì§‘ì¤‘, ê°€ê²© ì „ëµ ì¬ê²€í†  ë“±ì„ í†µí•´ ìˆ˜ìµì„±ì„ ê°œì„ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ì •ë¶€ ì§€ì› ì»¨ì„¤íŒ… í”„ë¡œê·¸ë¨ì„ í™œìš©í•˜ì—¬ ìˆ˜ìµêµ¬ì¡°ë¥¼ ë¶„ì„í•˜ê³  ê°œì„  ë°©ì•ˆì„ ìˆ˜ë¦½í•˜ì‹œê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.\n\n`;
            } else if (scores.profitability < 75) {
                comment += `<strong>ìˆ˜ìµì„± ì–‘í˜¸</strong><br>ROA ${ratios.roa.toFixed(1)}%, ROE ${ratios.roe.toFixed(1)}%ë¡œ ì¤‘ê°„ ìˆ˜ì¤€ì˜ ìˆ˜ìµì„±ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ì ì¸ ìˆ˜ìµì„± ê°œì„ ì„ ìœ„í•´ ë§¤ì¶œ ë‹¤ê°í™”, ì‹ ì œí’ˆ ê°œë°œ, í”„ë¦¬ë¯¸ì—„ ì „ëµ ë“±ì„ ê²€í† í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n`;
            } else {
                comment += `<strong>ìˆ˜ìµì„± ìš°ìˆ˜</strong><br>ì˜ì—…ì´ìµë¥ ê³¼ ìˆœì´ìµë¥ ì´ ëª¨ë‘ ìš°ìˆ˜í•˜ë©°, ìì‚° ëŒ€ë¹„ ë†’ì€ ìˆ˜ìµì„ ì°½ì¶œí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìˆ˜ìµì„±ì„ ë°”íƒ•ìœ¼ë¡œ ì¬íˆ¬ìë‚˜ ì‹ ê·œ ì‚¬ì—… ì§„ì¶œì„ ì ê·¹ ê²€í† í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n`;
            }

            // ì•ˆì •ì„± ë¶„ì„
            if (scores.stability < 50) {
                comment += `<strong>ì•ˆì •ì„± ìš°ë ¤</strong><br>ë¶€ì±„ë¹„ìœ¨ ${ratios.debtRatio.toFixed(1)}%, ìœ ë™ë¹„ìœ¨ ${ratios.currentRatio.toFixed(1)}%ë¡œ ì¬ë¬´ ì•ˆì •ì„±ì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë¶€ì±„ ìƒí™˜ ê³„íšì„ ìˆ˜ë¦½í•˜ê³ , í˜„ê¸ˆíë¦„ ê´€ë¦¬ë¥¼ ê°•í™”í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ì •ì±…ìê¸ˆì„ í™œìš©í•œ ê³ ê¸ˆë¦¬ ë¶€ì±„ ì „í™˜ì´ë‚˜ ë§Œê¸° ì—°ì¥ì„ ê²€í† í•˜ì‹œê³ , ë‹¨ê¸° ìœ ë™ì„± í™•ë³´ì— ì§‘ì¤‘í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n`;
            } else if (scores.stability < 75) {
                comment += `<strong>ì•ˆì •ì„± ì–‘í˜¸</strong><br>ìê¸°ìë³¸ë¹„ìœ¨ ${ratios.equityRatio.toFixed(1)}%ë¡œ ì ì • ìˆ˜ì¤€ì˜ ì¬ë¬´ ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë¶€ì±„ ìˆ˜ì¤€ì„ ê´€ë¦¬í•˜ë©´ì„œ ì„±ì¥ì„ ìœ„í•œ ì ì ˆí•œ ë ˆë²„ë¦¬ì§€ í™œìš©ì„ ê³ ë ¤í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n`;
            } else {
                comment += `<strong>ì•ˆì •ì„± ìš°ìˆ˜</strong><br>ë¶€ì±„ë¹„ìœ¨ì´ ë‚®ê³  ìœ ë™ì„±ì´ í’ë¶€í•˜ì—¬ ì¬ë¬´ ì•ˆì •ì„±ì´ ë§¤ìš° ìš°ìˆ˜í•©ë‹ˆë‹¤. ì•ˆì •ì ì¸ ì¬ë¬´êµ¬ì¡°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê³µê²©ì  ì„±ì¥ ì „ëµì„ ì¶”ì§„í•˜ì‹¤ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¸°ë°˜ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.\n\n`;
            }

            // í™œë™ì„± ë¶„ì„
            if (scores.activity < 50) {
                comment += `<strong>í™œë™ì„± ê°œì„  í•„ìš”</strong><br>ì´ìì‚°íšŒì „ìœ¨ ${ratios.assetTurnover.toFixed(2)}íšŒë¡œ ìì‚° íš¨ìœ¨ì„±ì´ ë‚®ìŠµë‹ˆë‹¤. ìœ íœ´ ìì‚° ì²˜ë¶„, ì¬ê³  ê´€ë¦¬ ê°•í™”, ë§¤ì¶œì±„ê¶Œ íšŒìˆ˜ ê¸°ê°„ ë‹¨ì¶• ë“±ì„ í†µí•´ ìì‚° í™œìš©ë„ë¥¼ ë†’ì´ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n`;
            } else if (scores.activity < 75) {
                comment += `<strong>í™œë™ì„± ì–‘í˜¸</strong><br>ìì‚°íšŒì „ìœ¨ì´ ì¤‘ê°„ ìˆ˜ì¤€ìœ¼ë¡œ, ìì‚°ì„ ì ì •í•˜ê²Œ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì¬ê³  ê´€ë¦¬ ì‹œìŠ¤í…œ ê³ ë„í™”ë‚˜ ìƒì‚°ì„± í–¥ìƒ íˆ¬ìë¥¼ í†µí•´ ì¶”ê°€ ê°œì„ ì˜ ì—¬ì§€ê°€ ìˆìŠµë‹ˆë‹¤.\n\n`;
            } else {
                comment += `<strong>í™œë™ì„± ìš°ìˆ˜</strong><br>ìì‚°ì„ ë§¤ìš° íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë†’ì€ íšŒì „ìœ¨ì„ ë‹¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš°ìˆ˜í•œ ìš´ì˜ ëŠ¥ë ¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, ê·œëª¨ í™•ëŒ€ ì‹œì—ë„ íš¨ìœ¨ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ì—­ëŸ‰ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.\n\n`;
            }

            // ì„±ì¥ì„± ë¶„ì„
            if (scores.growth < 40) {
                comment += `<strong>ì„±ì¥ì„± ì €ì¡°</strong><br>ë§¤ì¶œ ì¦ê°€ìœ¨ ${ratios.salesGrowth.toFixed(1)}%ë¡œ ì„±ì¥ì´ ì •ì²´ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì‹ ê·œ ì‹œì¥ ê°œì²™, ì œí’ˆ í¬íŠ¸í´ë¦¬ì˜¤ í™•ëŒ€, ë§ˆì¼€íŒ… ê°•í™” ë“±ì„ í†µí•´ ì„±ì¥ ëª¨ë©˜í…€ì„ íšŒë³µí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ìˆ˜ì¶œ ì§€ì› í”„ë¡œê·¸ë¨ì´ë‚˜ ì‹ ì‹œì¥ ì§„ì¶œ ì§€ì› ë“±ì„ ì ê·¹ í™œìš©í•˜ì‹œê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.\n\n`;
            } else if (scores.growth < 70) {
                comment += `<strong>ì„±ì¥ì„± ë³´í†µ</strong><br>ì•ˆì •ì ì¸ ì„±ì¥ì„¸ë¥¼ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ ì„±ì¥ì„ ìœ„í•´ R&D íˆ¬ì, ì¸ë ¥ í™•ì¶©, ì„¤ë¹„ ì¦ì„¤ ë“±ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì¶”ì§„í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n`;
            } else {
                comment += `<strong>ì„±ì¥ì„± íƒì›”</strong><br>ë§¤ì¶œì´ ë¹ ë¥´ê²Œ ì„±ì¥í•˜ê³  ìˆì–´ ì‹œì¥ì—ì„œ ê²½ìŸë ¥ì„ í™•ë³´í•˜ê³  ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ì„±ì¥ì„¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ ìˆ˜ìµì„±ê³¼ ì•ˆì •ì„±ë„ í•¨ê»˜ ê´€ë¦¬í•˜ëŠ” ê· í˜• ì¡íŒ ì„±ì¥ ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n`;
            }

            // ì¢…í•© ì œì•ˆ
            const weakAreas = [];
            if (scores.profitability < 60) weakAreas.push('ìˆ˜ìµì„±');
            if (scores.stability < 60) weakAreas.push('ì•ˆì •ì„±');
            if (scores.activity < 60) weakAreas.push('í™œë™ì„±');
            if (scores.growth < 60) weakAreas.push('ì„±ì¥ì„±');

            if (weakAreas.length > 0) {
                comment += `íŠ¹íˆ ${weakAreas.join(', ')} ì˜ì—­ì— ì§‘ì¤‘í•˜ì—¬ ë‹¨ê³„ì  ê°œì„  ê³„íšì„ ìˆ˜ë¦½í•˜ì‹œê¸°ë¥¼ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤. `;
            }

            comment += `ë³´ë‹¤ êµ¬ì²´ì ì¸ ì¬ë¬´ ì „ëµ ìˆ˜ë¦½ê³¼ ë§ì¶¤í˜• ìê¸ˆ ì¡°ë‹¬ ë°©ì•ˆì€ ì „ë¬¸ ì»¨ì„¤í„´íŠ¸ì™€ì˜ ìƒë‹´ì„ í†µí•´ ìµœì ì˜ ì†”ë£¨ì…˜ì„ ì°¾ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤.`;

            document.getElementById('consultantComment').innerHTML = comment;
        }

        function displayRecommendations(scores, ratios) {
            const recommendations = [];

            // ìˆ˜ìµì„± ê¸°ë°˜ ì¶”ì²œ
            if (scores.profitability < 50) {
                recommendations.push({
                    title: 'ê²½ì˜ì»¨ì„¤íŒ… ì§€ì›ì‚¬ì—…',
                    desc: 'ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ì§„í¥ê³µë‹¨ì˜ ê²½ì˜ì»¨ì„¤íŒ… ì§€ì›ì„ í†µí•´ ìˆ˜ìµêµ¬ì¡° ë¶„ì„ ë° ê°œì„  ë°©ì•ˆì„ ìˆ˜ë¦½í•˜ì„¸ìš”. ì»¨ì„¤íŒ… ë¹„ìš©ì˜ 70~90%ë¥¼ ì§€ì›ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
                });
            }

            // ì•ˆì •ì„± ê¸°ë°˜ ì¶”ì²œ
            if (scores.stability < 50) {
                if (ratios.debtRatio > 200) {
                    recommendations.push({
                        title: 'ì¬ë¬´êµ¬ì¡° ê°œì„  í”„ë¡œê·¸ë¨',
                        desc: 'ì‹ ìš©ë³´ì¦ê¸°ê¸ˆì˜ ì¬ë¬´êµ¬ì¡° ê°œì„  ë³´ì¦ì„ í™œìš©í•˜ì—¬ ê³ ê¸ˆë¦¬ ë¶€ì±„ë¥¼ ì €ê¸ˆë¦¬ ìê¸ˆìœ¼ë¡œ ì „í™˜í•˜ê³ , ë§Œê¸°ë¥¼ ì—°ì¥í•˜ì—¬ ì¬ë¬´ ì•ˆì •ì„±ì„ í™•ë³´í•˜ì„¸ìš”.'
                    });
                }
                recommendations.push({
                    title: 'ì •ì±…ìê¸ˆ ìœµì',
                    desc: 'ì¤‘ì†Œê¸°ì—…ì§„í¥ê³µë‹¨ì˜ ì •ì±…ìê¸ˆ(ìš´ì „ìê¸ˆ, ì‹œì„¤ìê¸ˆ)ì„ í™œìš©í•˜ì—¬ ì €ê¸ˆë¦¬ë¡œ í•„ìš” ìê¸ˆì„ ì¡°ë‹¬í•˜ê³  ì¬ë¬´êµ¬ì¡°ë¥¼ ê°œì„ í•˜ì„¸ìš”.'
                });
            } else if (scores.stability >= 70) {
                recommendations.push({
                    title: 'ì‹œì„¤íˆ¬ì ì§€ì›',
                    desc: 'ìš°ìˆ˜í•œ ì¬ë¬´ ì•ˆì •ì„±ì„ ë°”íƒ•ìœ¼ë¡œ ì„¤ë¹„ í˜„ëŒ€í™”ë‚˜ ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ êµ¬ì¶• ì§€ì›ì‚¬ì—…ì— ë„ì „í•˜ì—¬ ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¤ì„¸ìš”.'
                });
            }

            // ì„±ì¥ì„± ê¸°ë°˜ ì¶”ì²œ
            if (scores.growth >= 70) {
                recommendations.push({
                    title: 'ì„±ì¥ì‚¬ë‹¤ë¦¬ í€ë“œ',
                    desc: 'ë†’ì€ ì„±ì¥ì„±ì„ ì¸ì •ë°›ì•„ ëª¨íƒœí€ë“œ, ì •ì±…ê¸ˆìœµê¸°ê´€ì˜ ì„±ì¥ì§€ì› í€ë“œ íˆ¬ìë¥¼ ìœ ì¹˜í•˜ê³ , ìŠ¤ì¼€ì¼ì—…ì„ ê°€ì†í™”í•˜ì„¸ìš”.'
                });
                recommendations.push({
                    title: 'ìˆ˜ì¶œ ì§€ì› í”„ë¡œê·¸ë¨',
                    desc: 'KOTRAì˜ í•´ì™¸ë§ˆì¼€íŒ… ì§€ì›, ë¬´ì—­ë³´í—˜ê³µì‚¬ì˜ ìˆ˜ì¶œë³´í—˜ ë“±ì„ í™œìš©í•˜ì—¬ ê¸€ë¡œë²Œ ì‹œì¥ìœ¼ë¡œ ì§„ì¶œí•˜ì„¸ìš”.'
                });
            } else if (scores.growth < 40) {
                recommendations.push({
                    title: 'R&D ì§€ì›ì‚¬ì—…',
                    desc: 'ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ë¶€ì˜ R&D ê³¼ì œë‚˜ ì‚°ì—…í†µìƒìì›ë¶€ì˜ ê¸°ìˆ í˜ì‹  ì§€ì›ì‚¬ì—…ì„ í†µí•´ ì‹ ì œí’ˆ ê°œë°œë¡œ ì„±ì¥ ë™ë ¥ì„ í™•ë³´í•˜ì„¸ìš”.'
                });
            }

            // í™œë™ì„± ê¸°ë°˜ ì¶”ì²œ
            if (scores.activity < 50) {
                recommendations.push({
                    title: 'ìŠ¤ë§ˆíŠ¸í™” ì§€ì›ì‚¬ì—…',
                    desc: 'ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ë¶€ì˜ ìŠ¤ë§ˆíŠ¸ê³µì¥ êµ¬ì¶• ì§€ì›, ERP ë„ì… ì§€ì› ë“±ì„ í†µí•´ ì—…ë¬´ íš¨ìœ¨ê³¼ ìì‚° íšŒì „ìœ¨ì„ ë†’ì´ì„¸ìš”.'
                });
            }

            // ì¢…í•© ì¶”ì²œ (ëª¨ë“  ê¸°ì—… ëŒ€ìƒ)
            recommendations.push({
                title: 'ê¸ˆìœµ ì• ë¡œ í•´ì†Œ ì»¨ì„¤íŒ…',
                desc: 'ì¤‘ì†Œê¸°ì—…ì§„í¥ê³µë‹¨, ì‹ ìš©ë³´ì¦ì¬ë‹¨ ë“±ì˜ ë¬´ë£Œ ê¸ˆìœµ ì»¨ì„¤íŒ…ì„ í†µí•´ ê·€ì‚¬ì— ìµœì í™”ëœ ìê¸ˆ ì¡°ë‹¬ ë°©ì•ˆì„ ì°¾ìœ¼ì„¸ìš”.'
            });

            // ìš°ìˆ˜ê¸°ì—… íŠ¹í™” ì¶”ì²œ
            if (scores.profitability >= 70 && scores.stability >= 70) {
                recommendations.push({
                    title: 'ê¸°ì—…ì„±ì¥ ì´‰ì§„ í”„ë¡œê·¸ë¨',
                    desc: 'ë²¤ì²˜ê¸°ì—… ì¸ì¦, ì´ë…¸ë¹„ì¦ˆ ì¸ì¦ ë“±ì„ í†µí•´ ì •ì±…ìê¸ˆ ìš°ëŒ€, ì„¸ì œ í˜œíƒ ë“± ë‹¤ì–‘í•œ ì§€ì›ì„ ë°›ìœ¼ì„¸ìš”.'
                });
            }

            // ë Œë”ë§
            let html = '';
            recommendations.forEach(rec => {
                html += `
                    <div class="recommendation-item">
                        <h4>${rec.title}</h4>
                        <p>${rec.desc}</p>
                    </div>
                `;
            });
            document.getElementById('recommendationList').innerHTML = html;
        }

        function restart() {
            // ì…ë ¥ê°’ ì´ˆê¸°í™”
            document.querySelectorAll('input').forEach(input => {
                input.value = '';
            });

            // í™”ë©´ ì „í™˜
            document.querySelector('.input-section').classList.remove('hidden');
            document.querySelector('.result-section').classList.remove('active');

            // ì°¨íŠ¸ ì´ˆê¸°í™”
            document.getElementById('profitabilityBar').style.height = '0%';
            document.getElementById('stabilityBar').style.height = '0%';
            document.getElementById('activityBar').style.height = '0%';
            document.getElementById('growthBar').style.height = '0%';

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>